# Repository Guidelines

## General Principles

- Avoid creating compatibility or legacy layers; prefer direct improvements.
- Use strict typing, prefer inference when obvious, avoid `any` (use `unknown` when uncertain).
- Internal agent note: do not append extra final summaries beyond requested content.
- NEVER run `npm run dev` or development server commands unless explicitly requested.
- NEVER run Entity Framework migrations (`dotnet ef`) unless explicitly requested.

## Type System & Type Safety

- **Prefer generated types over manual interfaces/types**:
  - Use types generated by Orval in `Client/src/api/generated/model`
  - Only create custom types when extending generated types with runtime transformations
- **Avoid type duplication**: single source of truth (OpenAPI -> Orval generated types)

## Project Structure & Module Organization

- Monorepo: React frontend in `Client`, ASP.NET Core backend in `Server`.
- Frontend source in `Client/src` (pages, components, api, routes, lib, types).
- Backend: controllers in `Controllers`, services in `Services`, DTOs in `DTOs`, models in `Models`, EF context in `Data`.
- API client generated via Orval from `Server/Server.json` to `Client/src/api/generated`.

## Coding Style & Naming Conventions

- Naming: `PascalCase` for components/classes and filenames (e.g., `UserForm.tsx`), `camelCase` for variables/functions.
- Backend: `PascalCase` for C# classes, methods, properties; controllers suffixed with `Controller`, services with `Service`.

## React & UI Practices

- Use functional components with hooks; prefer React 19 patterns.
- State management via React Query for server state; local state with `useState`/`useReducer`.
- Forms: use React Hook Form with Zod validation (`@hookform/resolvers/zod`).
- Icons: always use lucide-react, never inline SVGs.
- Components: use shadcn/ui (Radix UI primitives) from `components/ui`; keep components small and focused.
- Styling: Tailwind v4 with utility classes; avoid inline styles and CSS modules.
- Routing: use react-router-dom v7 with file-based route organization in `routes/`.

## API & Data Fetching

- Use Orval-generated hooks for API calls (React Query based).
- Run `npm run generate:api` after backend Swagger changes.
- API client configured in `Client/src/api/client.ts`.
- Handle loading/error states via React Query's built-in state.

## Backend (ASP.NET Core)

- Use Minimal APIs or Controllers as established in the project.
- DTOs for request/response contracts; Models for EF entities.
- Keep controllers thin; business logic in Services.
- OpenAPI document (Server.json) is auto-generated on build.
